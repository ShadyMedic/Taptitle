<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Taptitle</title>
        <link rel="stylesheet" href="../css/classless.css" />
        <link rel="stylesheet" href="../css/common.css" />
        <link rel="stylesheet" href="../css/watch.css" />
        <link rel="icon" type="image/x-icon" href="../img/favicon.ico" />
    </head>
    <body>

    <h1>Watch a video</h1>
    <h4>In the current version of Taptitle, only locally downloaded videos can be watched.</h4>
    <form id="watch-form">
        <fieldset>
            <label for="video-input">Step 1: Select a video file:</label>
            <input id="video-input" type="file" accept="video/*"/>
        </fieldset>
        <fieldset>
            <label for="subtitles-input">Step 2: Select a subtitles file:</label>
            <input id="subtitles-input" type="file" accept=".srt" />
        </fieldset>
        <input id="watch-form-submit" type="submit" value="Load" />
    </form>
    
    <div id="watch-video">
        <video id="video" controls>
            <source id="video-src" src="#">
            An error occurred – either your browser doesn't support the required features,
            the video file specified wasn't found, or the format of the video is unsupported.
        </video>
        <div id="subtitles-area">
            <!--
            <div id="previous-subtitles">

            </div>
            -->
            <div id="current-subtitles">

            </div>
            <!--
            <div id="next-subtitles">

            </div>
            -->
            <div id="current-translation">

            </div>
        </div>
    </div>

    <div class="hidden">

        <div class="subtitle-word-wrapper">
            <div class="subtitle-word">{{{content}}}</div>
        </div>

        <div class="translation-bubble-wrapper">
            <div class="translation-bubble">
                <button class="translation-bubble-close">×</button>
                <div class="translation-bubble-loading">
                    <img src="../img/loading.gif" alt="Loading" class="translation-bubble-loading" />
                    <i>Translating...</i>
                </div>
                <div class="translation-bubble-content hidden">
                    <span class="translation-bubble-word"></span>
                    <hr />
                    <div class="dictionary-notification">
                        <span>Added to your personal dictionary.</span>
                        <button class="translation-bubble-undo">Undo</button>
                    </div>
                </div>
            </div>
        </div>

    </div>

    <script src="../js/jquery-3.6.1.min.js"></script>
    <script src="../js/srt-parser.js"></script>
    <script src="../js/Subtitle.js"></script>
    <script src="../js/SubtitlesReader.js"></script>
    <script src="../js/Dictionary.js"></script>
    <script src="../js/watch.js"></script>
    </body>
</html>
